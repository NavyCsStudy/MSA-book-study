## 15.1 느슨하게 결합된 조직

- 마이크로서비스의 효과를 제대로 얻으려면 아키텍처뿐 아니라 조직도 느슨하게 결합되어야 한다.
- 디지털 트랜스포메이션 엔진에서 제시한 고성과 팀의 특성:
    - 외부 허가 없이 대규모 설계 변경 가능
    - 다른 팀 의존 없이 시스템 변경 가능
    - 타 팀과의 조정 없이 대부분의 작업 완료 가능
    - 필요할 때 독립적으로 배포 가능
    - 통합 환경 없이도 테스트 가능
    - 업무 시간 중 무중단 배포 가능

→ 결론: 권한과 책임의 분산이 필수

## 15.2 콘웨이의 법칙

> 조직은 자신의 커뮤니케이션 구조를 닮은 시스템을 설계한다.
> 
- 느슨한 조직 → 느슨한 아키텍처
- 강한 결합 조직 → 강한 결합 아키텍처

마이크로서비스를 원하면 조직도 그렇게 설계해야 한다.

### 15.2.1 증거

- 오픈소스(느슨한 조직) → 더 모듈화된 시스템
- 상용 제품 기업(강한 조직) → 덜 모듈화

**📌** 아마존 & 넷플릭스

- Amazon
    - “피자 두 판 팀” (8~10명)
    - 팀이 서비스 전체 수명주기 소유
    - 조정 비용 최소화
- Netflix
    - 원하는 아키텍처에 맞게 조직 설계
    - 상호작용 많은 팀을 물리적으로 가깝게 배치

→ 조직 구조를 의도적으로 아키텍처에 맞춤

## 15.3 팀 규모

- 연구 결과
    - 9명 이상 팀 → 생산성 감소 경향
    - 일반적으로 5~10명이 이상적
- 이유
    - 의사소통 비용 감소
    - 조정 비용 감소
    - 목표 집중도 증가

## 15.4 콘웨이의 법칙 이해

중앙집중식 의사결정은 규모가 커질수록 병목이 된다.

해결책은 작고 자율적인 팀의 확장 구조

## 15.5 소규모 팀, 대규모 조직

- 브룩스의 법칙: 지연된 프로젝트에 인력을 추가하면 더 지연된다.
- 사람을 추가하려면:
    - 작업이 병렬 가능해야 함
    - 조정 비용이 낮아야 함
- 복잡한 시스템일수록 사람 추가 효과는 감소

핵심 문제는 조정 비용이다.

## 15.6 자율성에 관해

- 자율성 = 권한 부여, 관료주의 감소, 지역 단위 의사결정 허용
- 던바 연구
    - 인간이 안정적으로 유지 가능한 집단 규모 ≈ 150명
    - 이를 넘으면 분화 필요

## 15.7 강력한 소유권 vs 공동 소유권

### 15.7.1 강력한 소유권

- 마이크로서비스는 특정 팀 소유
- 외부 변경은 PR 요청
- 최종 결정은 소유 팀
- 장점
    - 조정 비용 감소
    - 높은 자율성
    - 기술 선택 자유
    - 지역 최적화 가능
- 전체 수명 주기 소유권 팀이 설계, 개발, 배포, 운영, 폐기까지 책임
- 가장 높은 자율성 모델

### 15.7.2 공동 소유권

- 모든 팀이 서비스 수정 가능
- 장점
    - 인력 유연한 배치 가능
- 단점
    - 높은 조정 비용
    - 기술 스택 표준화 필요
    - 지역적 다양성 감소
    - 조직적 결합 증가

→ 대규모 조직에서는 마이크로서비스 장점 약화

### 15.7.3 팀 수준 vs 조직 수준

- 팀 내부 → 공동 소유권
- 팀 간 → 강력한 소유권

### 15.7.4 균형 모델

<img width="884" height="310" alt="Image" src="https://github.com/user-attachments/assets/815bbdf6-9858-48f6-8505-1faff7d17e1d" />

현실적인 접근:

- 프로그래밍 언어 자유
- 클라우드 플랫폼은 통일
- 배포 표준은 유지

핵심은 균형을 의식적으로 관리하는 것

## 15.8 활성화 팀

<img width="852" height="530" alt="Image" src="https://github.com/user-attachments/assets/6415a6ea-da9b-4126-be55-518cd18cbcb0" />

- 스트림 정렬 팀을 지원하는 팀
- 직접 기능을 만들기보다는, 다른 팀이 더 잘 일하도록 돕는 역할
- e.g. UI 품질 표준 수립, 테스트 인프라 개선, 데이터베이스 운영 자동화 지원
- 각 팀이 자율적으로 최적의 선택을 하다 보면 아래와 같은 문제가 발생할 수 있다.
    - 프로그래밍 언어가 난립
    - 기술 스택 다양화
    - 채용 및 인력 이동 어려움
    - 운영 복잡도 증가
    - → 지역 최적화 vs 전역 최적화 문제
- 활성화 팀은 여러 팀의 상황을 가로지르는 관점 확보 및 반복되는 문제를 조직 차원에서 해결
    - ⇒ 팀 간 연결자 역할 수행

### 15.8.1 실천 공동체

- Community of Practice
- 학습과 공유 중심의 교차 그룹

| 구분 | 활성화 팀 | CoP |
| --- | --- | --- |
| 역할 | 직접 지원 | 학습/공유 |
| 참여 | 상시/전담 | 느슨하고 유동적 |
| 초점 | 실행 | 성장 |

### 15.8.2 플랫폼

- 스트림 정렬 팀에 더 많은 자율성과 책임을 주려면
    - 셀프 서비스 인프라 필요
    - 배포 자동화
    - 인증/인가
    - 로깅/모니터링
- 즉, 책임을 늘리려면 도구를 먼저 제공해야 한다.
- RVU 사례: 쿠버네티스 사용
    
    > 우리는 쿠버네티스를 사용하기 위해 조직을 바꾼 것이 아니라, 조직을 바꾸기 위해 쿠버네티스를 사용했다.
    > 
- 플랫폼은 인프라 부담 감소, 기능 개발 집중, 조직 구조 변화 촉진
- 플랫폼 팀의 목적은 "플랫폼을 만드는 것"이 아니라 개발자의 삶을 더 쉽게 만드는 것
    - 내부 고객 = 개발자

**📌 포장된 길**

- 강제하지 않는다
- 가장 쉬운 방법을 제공한다

## 15.9 공유 마이크로서비스

원칙은 마이크로서비스는 한 팀이 소유하는 것이 이상적

그런데 왜 공유되는가?

### 15.9.1 너무 어려운 분할

- 거대한 모놀리식 잔재
- 분리 비용이 너무 큼
- 조직이 가치 인식 못함

### 15.9.2 횡단 변경 사항

- 예: “1 계정 = 1 사용자” → “1 계정 = 다수 사용자”
- 이 경우 수많은 서비스 수정 필요 → 조율 비용 폭증
- 교훈: 일부 고통스러운 변경은 예외적으로 수용해야 함

### 15.9.3 전달 병목 현상

카탈로그 서비스에 변경이 몰림 → 팀이 바쁨 → 다른 팀이 대기

선택지:

1. 기다린다
2. 인력 추가
3. 서비스 분리
4. 내부 오픈 소스 모델 도입

## 15.10 내부 오픈 소스

- 오픈소스 방식의 내부 운영
- Pull Request 기반 기여
- 구성
    - 핵심 커미터
    - 외부 기여자
- 장점
    - 병목 완화
    - 공유 코드 관리 가능

### 15.10.1 핵심 커미터의 역할

- 코드 품질 유지, 리뷰 책임, 일관성 유지
- 좋은 게이트키퍼: 명확한 피드백, 협력적
- 나쁜 게이트키퍼: 권력 행사, ‘종교전쟁’

### 15.10.2 성숙도

- 서비스가 아직 불안정하면 외부 기여 어려움
- 안정화 이후 개방이 적합

### 15.10.3 도구

- 분산 버전 관리
- Pull Request 시스템
- 코드 리뷰 도구
- 자동 빌드/배포 파이프라인
- 중앙 산출물 저장소

## 15.11 플러그 가능한 모듈식 마이크로서비스

- 문제: 중앙 서비스에 국가별 Pull Request 폭증

대안 1: 국가별 서비스 변형 운영

- 단점: 코드 중복
- 장점: 자율성

대안 2: 내부 프레임워크 제공

- 공통 골격 + 국가별 플러그인
- 단점:
    - 락스텝 릴리스 필요
    - 프레임워크 비대화 위험

### 15.11.1 변경 사항 검토

참고 도서: 디지털 트랜스포메이션 엔진

핵심 발견:

- 고위험 변경만 승인 → 성과와 무관
- 모든 변경 동료 리뷰 → 성과 향상
- 외부 승인 → 성과 저하

**📌 동기식 vs 비동기식 고드 검토**

가장 좋은 방식:

- 즉시 리뷰
- 대면 동기식 피드백

**📌 페어 프로그래밍**

- 인라인 리뷰
- 지속적 대화

**📌 앙상블(몹) 프로그래밍**

- 다수 참여
- 복잡한 문제에 적합
- 그러나 심리적 안전 중요

## 15.12 고아 서비스

- 변경이 거의 없는 서비스는 여전히 소유자가 필요
- 문제: 기술 스택을 아무도 모르면 진짜 고아가 됨

## 15.13 사례 연구: realestate.com.au

REA Group

특징:

- 사업 단위(LOB) 중심 조직
- 각 LOB 내 스쿼드 자율 운영
- LOB 간 통신은 비동기 배치 강제

결과:

- 높은 자율성
- 빠른 변경
- 서비스 수 급증

교훈: 조직 구조와 아키텍처는 분리될 수 없다.

## 15.14 지리적 분포

- 시간대가 다르면 조율 비용 증가
- 분산 팀은 자연스럽게 시스템도 모듈화됨
- 지리적 경계는 소프트웨어 경계에 영향을 준다
- 즉 시간대(지역) 같은 사람끼리 같은 팀

## 15.15 콘웨이의 역법칙

Conway’s Law:

> 조직 구조는 시스템 설계에 반영된다.
> 

역법칙:

> 시스템 설계가 조직 구조를 바꾸기도 한다.
> 

## 15.16 사람

가장 중요한 메시지:

> 모든 것은 결국 사람의 문제다.
> 

마이크로서비스는:

- 운영 책임 증가
- 기술 다양성 증가
- 자율성 증가

하지만:

- 모든 사람이 이를 원하지는 않는다
- 점진적 전환 필요
- 책임과 이유를 명확히 설명해야 함
- 기술 격차 파악 및 교육 필요